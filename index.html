<!DOCTYPE html>
<meta charset="utf-8">
<script src="js/d3.v2.min.js"></script>
<script src="js/network.js"></script>
<script src="js/menu.js"></script>
<style>

.link {
  stroke: #aaa;
}

.node text {
stroke:#333;
cursos:pointer;
}

.node circle{
stroke:#fff;
stroke-width:3px;
fill:#555;
}

</style>
<body>
    <header id="menu"></header>
    <section id="container"></section>
    <button onclick=" s.removeNode('node-2');">remove</button>
    <button onclick='s.putNode({"name":"node-2","group":2,"color":"blue","weigth":20,"selected":false});'>add</button>
<script>



datajson={
  "nodes":[
		{"name":"node-1","group":1,"color":"red","weigth":20,"selected":false,"category":"potatoes"},
		{"name":"node-2","group":2,"color":"blue","weigth":20,"selected":false,"category":"potatoes"},
		{"name":"node-3","group":2,"color":"green","weigth":20,"selected":false,"category":"ducks"},
		{"name":"node-4","group":3,"color":"yellow","weigth":20,"selected":false,"category":"ducks"}
	],
	"links":[
		
	]
}
//{"source":0,"target":2,"weight":3,"type":0}
var m= new menu("menu");
var s= new searcher("#container");
var categorias={};
for (var i=0;i<datajson.nodes.length;i++){
    var cat =Object.keys(categorias);
    if (cat.indexOf(datajson.nodes[i].category)<0){
        categorias[datajson.nodes[i].category]=[];
    }
}
for (var i=0;i<datajson.nodes.length;i++){
        categorias[datajson.nodes[i].category].push(datajson.nodes[i].name);
}
m.addPrincipalOptions(categorias);
console.log(s)
s.creatNetwork(datajson);

</script>
</body>
</html>
